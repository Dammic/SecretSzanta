$player-image-width: 10vw;
$player-bubble-width: 150px;
$player-bubble-height: 40px;
$player-bubble-radius: 5px;
$player-bubble-triangle-size: $player-bubble-height/2;
$player-bubble-original-position: 85%;
$player-bubble-activated-position: 100%;

.player {

    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    flex: 0 1 33%;

    .bubble-triangle {
        content: "";
        position: absolute;
        display: block;

        width: 0;
        height: 0;

    }

    .bubble {
        opacity: 0;
        position: absolute;
        z-index: 1;

        width: $player-bubble-width;
        height: $player-bubble-height;
        
        max-width: 10vw;

        background-color: $player-bubble-color;
        transition: all 0.7s; 

        border: 1px solid $player-bubble-color;
        border-radius: $player-bubble-radius;
    }

    .bubble-active {
        opacity: 1;    
    }

    .bubble-left {
        @extend .bubble;
        vertical-align: center;
        left: $player-bubble-original-position;
        top: 0px;

        &:before {
            @extend .bubble-triangle;
            right: 95%;

            border-top: $player-bubble-triangle-size solid transparent;
            border-bottom: $player-bubble-triangle-size solid transparent;
            border-right: $player-bubble-triangle-size solid $player-bubble-color;
        }

        &.active {
            opacity: 1;
            left: $player-bubble-activated-position;
        }

    }
    
    .bubble-right {
        @extend .bubble;
        right: $player-bubble-original-position;
        top: 0px;

        &:after {
            @extend .bubble-triangle;
            vertical-align: center;
            left: 95%;

            border-top: $player-bubble-triangle-size solid transparent;
            border-bottom: $player-bubble-triangle-size solid transparent;
            border-left: $player-bubble-triangle-size solid $player-bubble-color;
        }

        &.active {
            opacity: 1;
            
            right: $player-bubble-activated-position;
        }
    }

    .bubble-top {
        @extend .bubble;
        top: $player-bubble-original-position;
        
        &:before {
            @extend .bubble-triangle;

            bottom: 95%;
            border-bottom: $player-bubble-triangle-size solid $player-bubble-color;
            border-right: $player-bubble-triangle-size solid transparent;
            border-left: $player-bubble-triangle-size solid transparent;
        }

        &.active {
            opacity: 1;

            top: $player-bubble-activated-position;
        }
    }

    .portrait {
        max-width: $player-image-width;
    }

    .role {
        max-width: $player-image-width;
    }
}

